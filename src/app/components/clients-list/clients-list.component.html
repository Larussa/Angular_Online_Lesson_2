<div class="container">
  <div class="card mb-3">
    <div class="card-body">
      <form (ngSubmit)="onSubmit(form)" #form = "ngForm">
        <div class="form-row">
          <div class="form-group col-md-3">
            <label for="firstName">First Name<span>*</span></label>
            <input
              type="text"
              id='firstName'
              class="form-control"
              [(ngModel)] = 'item.firstname'
              [ngClass]="{'is-invalid':itemFirstName.errors && form.submitted}"
              #itemFirstName="ngModel"
              name="firstname"
              required
              minlength="2"
              maxlength="15"
            >
            <div class="invalid-feedback" [hidden]="!itemFirstName.errors?.required">Item FirstName required</div>
            <div class="invalid-feedback" [hidden]="!itemFirstName.errors?.minlength">Item FirstName must be at least 2 char</div>
          </div>
          <div class="form-group col-md-3">
            <label for="lastName">Last Name<span>*</span></label>
            <input
              type="text"
              class="form-control"
              id="lastName"
              [(ngModel)] = 'item.lastname'
              [ngClass]="{'is-invalid':itemLastName.errors && form.submitted}"
              #itemLastName="ngModel"
              name="lastname"
              required
              minlength="2"
              maxlength="15"
            >
            <div class="invalid-feedback" [hidden]="!itemLastName.errors?.required">Item LastName required</div>
            <div class="invalid-feedback" [hidden]="!itemLastName.errors?.minlength">Item LastName must be at least 2 char</div>
          </div>
          <div class="form-group col-md-3">
            <label for="email">Email<span>*</span></label>
            <input
              type="email"
              class="form-control"
              id="email"
              [(ngModel)] = 'item.email'
              [ngClass]="{'is-invalid':itemEmail.errors && form.submitted}"
              #itemEmail="ngModel"
              name="email"
              required
              pattern="[a-zA-Z_]+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}"
            >
            <div class="invalid-feedback" [hidden]="!itemEmail.errors?.required">Item email required</div>
            <div class="invalid-feedback" [hidden]="!itemEmail.errors?.pattern">incorrect email</div>
            <div class="invalid-feedback"></div>
          </div>
          <div class="form-group col-md-1">
            <label for="age">Age<span>*</span></label>
            <input
              type="number"
              class="form-control"
              id="age"
              [(ngModel)] = 'item.age'
              [ngClass]="{'is-invalid':itemAge.errors && form.submitted}"
              #itemAge="ngModel"
              name="age"
              required
              pattern="[0-9]{2,}"
            >
            <div class="invalid-feedback" [hidden]="!itemAge.errors?.required">Item age required</div>
            <div class="invalid-feedback" [hidden]="!itemAge.errors?.pattern">Item age must be at 2</div>
          </div>
          <div class="form-group col-md-2">
            <label for="phone">Phone<span>*</span></label>
            <input
              type="text"
              class="form-control"
              id="phone"
              [(ngModel)] = 'item.phone'
              [ngClass]="{'is-invalid':itemPhone.errors && form.submitted}"
              #itemPhone="ngModel"
              name="phone"
              required
              pattern="[0-9]{10}"
              >
            <div class="invalid-feedback" [hidden]="!itemPhone.errors?.required">Item phone required</div>
            <div class="invalid-feedback" [hidden]="!itemPhone.errors?.pattern">Item phone must be at 10</div>
            <div class="invalid-feedback"></div>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group col-md-12">
            <label for="textarea">Comments</label>
            <textarea
              class="form-control"
              id="textarea" rows="3"
              [(ngModel)] = 'item.comment'
              #itemComment="ngModel"
              name="comment">
            </textarea>
            <div class="invalid-feedback"></div>
          </div>
        </div>
        <button type="submit" class="btn btn-outline-primary mb-3">Add Client</button>
        <p><span>*</span> All required fields must be filled out <p>
      </form>
    </div>
  </div>
  <table class="table table-striped">
    <thead>
    <tr>
      <th scope="col">â„–</th>
      <th scope="col">firstName</th>
      <th scope="col">lastName</th>
      <th scope="col">email</th>
      <th scope="col">age</th>
      <th scope="col">phone</th>
      <th scope="col">comments</th>
      <th scope="col">Delete</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let item of clientList; let i = index">
      <th scope="row">{{ i + 1 }}</th>
      <td>{{ item.firstname }}</td>
      <td>{{ item.lastname }}</td>
      <td>{{ item.email }}</td>
      <td>{{ item.age }}</td>
      <td>{{ item.phone }}</td>
      <td>{{ item.comment}}</td>
      <td><button (click)="deleteClient(id)" class="btn btn-outline-danger">Delete</button></td>
    </tr>
    <div class="alert alert-info mt-3" *ngIf="!clientList.length">
      No clients!
    </div>
    </tbody>
  </table>
</div>
